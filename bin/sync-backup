#!/bin/bash

BACKUP="/media/$USER/SLACK-BACKUP"

if ! mountpoint -q "$BACKUP"; then
  echo "$BACKUP is not mounted."
  exit 1
fi

cd /slack || exit 1

DIRS="books games music photos scrapbook sound"

if [ "$HOSTNAME" = "schtube" ]; then
  DIRS="$DIRS backups movies series"
fi

rsync -av --delete \
  --exclude steam \
  $DIRS "$BACKUP" "$@"
