#!/bin/bash

cd /slack/sound/manuals || exit 1

if [ $# -eq 0 ]; then
  exec xdg-open .
fi

files=$( find -type f | fzf -f "$*" )
manual=$( echo "$files" | grep -im1 manual )

if [ ! -f "$manual" ]; then
  manual=$( echo "$files" | head -1 )
fi

if [ -f "$manual" ]; then
  xdg-open "$manual"
else
  notify -i dialog-no "Couldn't find manual for '$*'"
fi
