#!/bin/bash

font=$( dconf read /org/gnome/desktop/interface/monospace-font-name | tr -d "'" )
font_size=${font##* }

if [ "$XDG_SESSION_TYPE" = "wayland" ]; then
  scale=$( dconf read /org/gnome/desktop/interface/text-scaling-factor )
  [ "$scale" ] && font_size=$( echo "$font_size * $scale " | bc )
fi

case "$HOSTNAME" in
  schtube)
    cols=90
    rows=36
    ;;
  *)
    cols=120
    rows=50
    ;;
esac

exec alacritty \
  -o font.size="$font_size" \
  -o window.dimensions.columns="$cols" \
  -o window.dimensions.lines="$rows" \
  "$@"
